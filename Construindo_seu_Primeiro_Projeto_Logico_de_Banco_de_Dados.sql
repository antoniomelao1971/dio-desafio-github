-- MySQL Script generated by MySQL Workbench
-- Tue 30 Aug 2022 03:33:47 PM -03
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTE` (
  `CPF_CNPJ_CLIENTE` VARCHAR(14) NOT NULL COMMENT '11 DIGITOS FIXOS QUANDO PF OU 14 DIGITOS FIXOS QUANDO PJ',
  `SEXO_CLIENTE` CHAR(1) NOT NULL,
  `DATA_NASC_CLIENTE` DATE NOT NULL,
  `NOME_CLIENTE` VARCHAR(50) NOT NULL,
  `NOME_MEIO_CLIENTE` VARCHAR(50) NOT NULL,
  `SOBRENOME_CLIENTE` VARCHAR(50) NOT NULL,
  `LOGRADOURO_CLIENTE` VARCHAR(100) NOT NULL,
  `NRO_LOGRADOURO` VARCHAR(5) NOT NULL,
  `COMPLEMENTO_LOGRADOURO` VARCHAR(45) NULL,
  `UF_CLIENTE` VARCHAR(2) NOT NULL,
  `CEP` CHAR(8) NOT NULL,
  `CIDADE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CPF_CNPJ_CLIENTE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORMA_PAGAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORMA_PAGAMENTO` (
  `idFORMA_PAGAMENTO` INT NOT NULL AUTO_INCREMENT,
  `NOME_FORMA_PAGAMENTO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idFORMA_PAGAMENTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MOTIVO_CANCELAMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MOTIVO_CANCELAMENTO` (
  `idMOTIVO_CANCELAMENTO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO_MOTIVO_CANCELAMENTO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idMOTIVO_CANCELAMENTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PEDIDO` (
  `idPEDIDO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO_PEDIDO` VARCHAR(100) NOT NULL,
  `FRETE` FLOAT NOT NULL,
  `CPF_CNPJ_CLIENTE` VARCHAR(14) NOT NULL,
  `idFORMA_PAGAMENTO` INT NULL,
  `COD_RASTREIO` VARCHAR(45) NULL,
  `DATA_CANCELAMENTO` VARCHAR(45) NULL,
  `idMOTIVO_CANCELAMENTO` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`idPEDIDO`),
  INDEX `fk_PEDIDO_1_idx` (`CPF_CNPJ_CLIENTE` ASC) VISIBLE,
  INDEX `fk_PEDIDO_2_idx` (`idFORMA_PAGAMENTO` ASC) VISIBLE,
  INDEX `fk_PEDIDO_3_idx` (`idMOTIVO_CANCELAMENTO` ASC) VISIBLE,
  CONSTRAINT `fk_PEDIDO_1`
    FOREIGN KEY (`CPF_CNPJ_CLIENTE`)
    REFERENCES `mydb`.`CLIENTE` (`CPF_CNPJ_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_2`
    FOREIGN KEY (`idFORMA_PAGAMENTO`)
    REFERENCES `mydb`.`FORMA_PAGAMENTO` (`idFORMA_PAGAMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_3`
    FOREIGN KEY (`idMOTIVO_CANCELAMENTO`)
    REFERENCES `mydb`.`MOTIVO_CANCELAMENTO` (`idMOTIVO_CANCELAMENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUTO` (
  `idPRODUTO` INT NOT NULL AUTO_INCREMENT,
  `CATEGORIA_PRODUTO` INT NOT NULL,
  `DESCRICAO_PRODUTO` VARCHAR(50) NOT NULL,
  `VALOR_PRODUTO` DOUBLE NOT NULL,
  PRIMARY KEY (`idPRODUTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORNECEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORNECEDOR` (
  `CNPJ_FORNECEDOR` VARCHAR(14) NOT NULL,
  `RAZAO_SOCIAL` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CNPJ_FORNECEDOR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FORNECEDOR_PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORNECEDOR_PRODUTO` (
  `PRODUTO_idPRODUTO` INT NOT NULL,
  `FORNECEDOR_CNPJ_FORNECEDOR` VARCHAR(14) NOT NULL,
  PRIMARY KEY (`PRODUTO_idPRODUTO`, `FORNECEDOR_CNPJ_FORNECEDOR`),
  INDEX `fk_PRODUTO_has_FORNECEDOR_FORNECEDOR1_idx` (`FORNECEDOR_CNPJ_FORNECEDOR` ASC) VISIBLE,
  INDEX `fk_PRODUTO_has_FORNECEDOR_PRODUTO1_idx` (`PRODUTO_idPRODUTO` ASC) VISIBLE,
  CONSTRAINT `fk_PRODUTO_has_FORNECEDOR_PRODUTO1`
    FOREIGN KEY (`PRODUTO_idPRODUTO`)
    REFERENCES `mydb`.`PRODUTO` (`idPRODUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUTO_has_FORNECEDOR_FORNECEDOR1`
    FOREIGN KEY (`FORNECEDOR_CNPJ_FORNECEDOR`)
    REFERENCES `mydb`.`FORNECEDOR` (`CNPJ_FORNECEDOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ESTOQUE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ESTOQUE` (
  `idESTOQUE` INT NOT NULL AUTO_INCREMENT,
  `LOCAL_ESTOQUE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idESTOQUE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUTO_ESTOQUE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PRODUTO_ESTOQUE` (
  `idPRODUTO` INT NOT NULL,
  `idESTOQUE` INT NOT NULL,
  `QTDE_PRODUTO_ESTOQUE` INT NOT NULL,
  PRIMARY KEY (`idPRODUTO`, `idESTOQUE`),
  INDEX `fk_table1_2_idx` (`idESTOQUE` ASC) VISIBLE,
  CONSTRAINT `fk_table1_1`
    FOREIGN KEY (`idPRODUTO`)
    REFERENCES `mydb`.`PRODUTO` (`idPRODUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_table1_2`
    FOREIGN KEY (`idESTOQUE`)
    REFERENCES `mydb`.`ESTOQUE` (`idESTOQUE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PEDIDO_PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PEDIDO_PRODUTO` (
  `idPRODUTO` INT NOT NULL,
  `idPEDIDO` INT NOT NULL,
  `QTDE` VARCHAR(45) NULL,
  PRIMARY KEY (`idPRODUTO`, `idPEDIDO`),
  INDEX `fk_PEDIDO_PRODUTO_2_idx` (`idPEDIDO` ASC) VISIBLE,
  CONSTRAINT `fk_PEDIDO_PRODUTO_1`
    FOREIGN KEY (`idPRODUTO`)
    REFERENCES `mydb`.`PRODUTO` (`idPRODUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_PRODUTO_2`
    FOREIGN KEY (`idPEDIDO`)
    REFERENCES `mydb`.`PEDIDO` (`idPEDIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VENDEDOR_PARCEIRO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`VENDEDOR_PARCEIRO` (
  `CNPJ_VENDEDOR_PARCEIRO` VARCHAR(14) NOT NULL,
  `RAZAO_SOCIAL` VARCHAR(50) NOT NULL,
  `LOGRADOURO` VARCHAR(50) NOT NULL,
  `NRO_LOGRADOURO` VARCHAR(5) NOT NULL,
  `COMPLEMENTO_LOGRADOURO` VARCHAR(45) NOT NULL,
  `UF_PARCEIRO` VARCHAR(2) NOT NULL,
  `CEP` CHAR(8) NOT NULL,
  `CIDADE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CNPJ_VENDEDOR_PARCEIRO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`VENDEDOR_PARCEIRO_PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`VENDEDOR_PARCEIRO_PRODUTO` (
  `CNPJ_VENDEDOR_PARCEIRO` VARCHAR(14) NOT NULL,
  `idPRODUTO` INT NOT NULL,
  `QTDE_ESTOQUE_PARCEIRO` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`CNPJ_VENDEDOR_PARCEIRO`, `idPRODUTO`),
  INDEX `fk_VENDEDOR_PARCEIRO_PRODUTO_2_idx` (`idPRODUTO` ASC) VISIBLE,
  CONSTRAINT `fk_VENDEDOR_PARCEIRO_PRODUTO_1`
    FOREIGN KEY (`CNPJ_VENDEDOR_PARCEIRO`)
    REFERENCES `mydb`.`VENDEDOR_PARCEIRO` (`CNPJ_VENDEDOR_PARCEIRO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VENDEDOR_PARCEIRO_PRODUTO_2`
    FOREIGN KEY (`idPRODUTO`)
    REFERENCES `mydb`.`PRODUTO` (`idPRODUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`STATUS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`STATUS` (
  `STATUS_PEDIDO` INT NOT NULL AUTO_INCREMENT,
  `DESCRICAO_STATUS_PEDIDO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`STATUS_PEDIDO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`STATUS_PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`STATUS_PEDIDO` (
  `idPEDIDO` INT NOT NULL AUTO_INCREMENT,
  `DATA` DATETIME NOT NULL,
  `STATUS_PEDIDO` INT NULL,
  PRIMARY KEY (`idPEDIDO`),
  INDEX `fk_STATUS_PEDIDO_2_idx` (`STATUS_PEDIDO` ASC) VISIBLE,
  CONSTRAINT `fk_STATUS_PEDIDO_1`
    FOREIGN KEY (`idPEDIDO`)
    REFERENCES `mydb`.`PEDIDO` (`idPEDIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_STATUS_PEDIDO_2`
    FOREIGN KEY (`STATUS_PEDIDO`)
    REFERENCES `mydb`.`STATUS` (`STATUS_PEDIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
